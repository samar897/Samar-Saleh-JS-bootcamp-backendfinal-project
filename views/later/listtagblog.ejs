<!-- views/home.ejs -->
<!DOCTYPE html>
<html>
    <meta charset="utf-8" />
    <title>Node.js Blog</title>
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
      crossorigin="anonymous"
    />
    <link rel="stylesheet"  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/css/styles.css">
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  
    <style>
      body {
        padding-top: 20px;
        padding-bottom: 20px;
        background-image: url("/images/photo2.jpg");
        background-repeat: no-repeat;
        background-attachment: fixed;
        background-position: center;
        background-size: cover;
      }
      .jumbotron {
        margin-top: 10px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <%- include('partials/navbar') %>
      <div class="jumbotron">
        <h1>All about Node</h1>
        <p class="lead">Check out our articles below!</p>
        
        <p class="btn btn-danger" > Fetch  data from mongodb using node js and display in html</p>
        <br>
          <table class="table">
            <caption>The Table will show the data</caption>
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Name </th>
            <th scope="col">Description</th>
            <th scope="col">All Blogs</th>
          </tr>
        </thead>
        <tbody>
          <% if(allTag.length){
          for(var i = 0; i< allTag.length; i++) {%>  
          <tr>
            <th scope="row"><%= (i+1) %></th>
            <td><%= allTag[i].name %> </td>
            <br/>
            <td><%= allTag[i].Description %></td>
            <td><br/> 
            <% for (blog of allTag[i].blogs) { %>
              <br/>  <b> Blog title</b> <br/> <%= blog.title %> <br/><br/> <b>Blog body</b> <br/> <%= blog.body %><br/>
            <% } %>
            <br/>
            </td>
            <br/>
             <td>
              <a href="/TagDelete/<%=allTag[i]._id%>" class="btn btn-danger" role="button">delete</a>
             </td>
             <td>
              <a href="/Tagupdate/<%=allTag[i]._id%>" class="btn btn-danger" role="button">Update</a>
             </td>
          </tr>
          <%  }}else{ %>
               <tr>
                  <td colspan="1"></td>
               </tr>
            <% } %>    
        </tbody>
        </table>
        
      </div>
      <div class="row">
        <div class="col-lg-12">
          <div class="list-group">
            <!-- loop over blog posts and render them -->
            LIST_OF_POSTS
          </div>
        </div>
      </div>
      <%- include('partials/footer') %>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
